<!-- user-form.component.html -->

<form [formGroup]="userForm" (ngSubmit)="onSubmit()" *ngIf="!newUserCreated" class="form-container">
    <mat-form-field>
        <input matInput placeholder="First Name" formControlName="firstName">
        <mat-error *ngIf="userForm.get('firstName')?.hasError('required')">First Name is required</mat-error>
        <mat-error *ngIf="userForm.get('firstName')?.hasError('minlength')">First Name must be at least 3
            characters</mat-error>
        <mat-error *ngIf="userForm.get('firstName')?.hasError('maxlength')">First Name cannot be more than 25
            characters</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput placeholder="Last Name" formControlName="lastName">
        <mat-error *ngIf="userForm.get('lastName')?.hasError('required')">Last Name is required</mat-error>
        <mat-error *ngIf="userForm.get('lastName')?.hasError('minlength')">Last Name must be at least 3
            characters</mat-error>
        <mat-error *ngIf="userForm.get('lastName')?.hasError('maxlength')">Last Name cannot be more than 25
            characters</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput placeholder="Email" formControlName="email">
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">Email is required</mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('maxlength')">Email cannot be more than 50
            characters</mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">Invalid email format</mat-error>
    </mat-form-field>
    <br>
    <mat-form-field>
        <input matInput placeholder="Password" formControlName="password" type="password">
        <mat-error *ngIf="userForm.get('password')?.hasError('required')">Password is required</mat-error>
        <mat-error *ngIf="userForm.get('password')?.hasError('maxlength')">Password cannot be more than 100
            characters</mat-error>
    </mat-form-field>
    <br>
    <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid" class="submit-button">Submit</button>
</form>
<div *ngIf="newUserCreated" class="new-user-created">
    <h3 class="registered-user-color">registration details:</h3>
    <p><strong>First Name:</strong> {{ newUserFirstName }}</p>
    <p><strong>Last Name:</strong> {{ newUserLastName }}</p>
    <p><strong>Email:</strong> {{ newUserEmail }}</p>
    <button mat-raised-button color="primary" (click)="close()">Close</button>
</div>

<div *ngIf="errorHappened">
    <div class="error-container">
        <!-- Error message will be displayed here -->
        <p class="error-message">Error: {{ errorMessage }}</p>
    </div>
</div>